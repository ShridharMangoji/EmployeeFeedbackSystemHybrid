<!--
  Generated template for the FeedbackHistoryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title text-center>Feedback-history</ion-title>
  </ion-navbar>
</ion-header>



<ion-content padding>
  <ion-card>
    <ion-card-content>
      <ion-card-title>
        {{oldMessage}}
      </ion-card-title>
      <p>
          Category : {{oldCategory}}
      </p>
      <p>
      {{oldCreatedFor}}
      </p>
      <p>
       Raised on: {{created_on}}
          </p>
    </ion-card-content>
  </ion-card>

  <div *ngIf="show_reply_history">
    <ion-label>Chat history</ion-label>
    <ion-list inset *ngFor="let item of chat_history">
      <ion-item>
        <ion-label stacked>{{item.reply_message}}</ion-label>
      </ion-item>
    </ion-list>
  </div>

  <div *ngIf="is_reply_button_required">
       <ion-item>
      <ion-textarea placeholder="Please enter message here..." [(ngModel)]="ReplyMessage">{{message}}</ion-textarea>
    </ion-item>
    <ion-item>
      <button ion-button (click)='Reply()'>Reply</button>
    </ion-item>
  </div>


  <div *ngIf="show_escalation_history">
    <ion-label  *ngIf="show_escalation_history">Escalation History</ion-label>
    <ion-list inset *ngFor="let item of feedbackEscalatedMessages">
      <ion-item>
        <ion-label stacked>{{item.message}}</ion-label>
      </ion-item>
    </ion-list>
  </div>



  <div text-center="" *ngIf="is_escalation_required">
    <ion-label>Is issue resolved</ion-label>
    <button ion-button (click)="CloseLead()">Yes</button>
    <button ion-button (click)="escalateFeedBack()">No</button>
  </div>

  <ion-list *ngIf="escalateReq">
    <ion-item>
      <ion-label>Escalate to</ion-label>
      <ion-select [(ngModel)]="selectedTeamMember">
        <ion-option *ngFor="let index of teamUserList" [value]="index.id"> {{index.name}} </ion-option>
      </ion-select>
    </ion-item>
    <!-- <ion-item>
          <ion-label>Feedback Category</ion-label>
          <ion-select [(ngModel)]="selectedFeedbackCategory">
            <ion-option  *ngFor="let index of feedbackCategoryList" [value]="index" > {{index.name}} </ion-option>
          </ion-select>
        </ion-item> -->
    <!-- <ion-item>
          <ion-input placeholder="Enter Subject" [(ngModel)]="subject"></ion-input>
        </ion-item> -->
    <ion-item>
      <ion-textarea placeholder="Enter feedback here..." [(ngModel)]="message">{{message}}</ion-textarea>
    </ion-item>
    <ion-item>
      <button ion-button (click)='escalate()'>Escalate</button>
    </ion-item>
  </ion-list>
</ion-content>